req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
content(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/users/jtleek/repos"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/rate_limit", gtoken)
stop_for_status(req)
content(req)
install.packages("httr")
install.packages("httr")
install.packages("httr")
install.packages("httr")
library(httr)
oauth_endpoints("github")
my_app = oauth_app(
"github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
github_token <- oauth2.0_token(oauth_endpoints("github"), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
install.packages("httpuv")
library(httr)
oauth_endpoints("github")
my_app = oauth_app(
"github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
github_token <- oauth2.0_token(oauth_endpoints("github"), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936", "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
library(jsonlite)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
stop_for_status(req)
json = content(req)
data = jsonlite::fromJSON(toJSON(json))
print(data)
names(data)
data[data$name == "datasharing"]
data[data$name == "datasharing"]$created_at
data$created_at
data[data[, "name"] == "datasharing", ]
data[data[, "name"] == "datasharing", ]$created_at
install.packages("sqldf")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", method = "curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", destfile = "data.csv" method = "curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", destfile = "data.csv", method = "curl")
df <- read.csv("data.csv")
library(sqldf)
query <- sqldf("select pwgtp1 from acs where AGEP < 50")
query <- sqldf(df, "select pwgtp1 from acs where AGEP < 50")
acs <- read.csv("data.csv")
query <- sqldf("select pwgtp1 from acs where AGEP < 50")
query
sqldf("SELECT DISTINCT AGEP FROM acs")
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
htmlCode[10]
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"
download.file(fileUrl, destfile = "ac_survey.csv", method = "curl")
?read.fwf
d <- read.fwf("ac_survey.csv", widths = c(15, 4,1,3,5,4), header = FALSE, sep = "\t", skip = 4)
head(d)
sum(d$V6)
url <- "https://data.baltimorecity.gov/Transportation/Baltimore-Fixed-Speed-Cameras/dz54-2aru"
getwd()
if(!file.exists("./data")){dir.create("./data")}
fileUrl <- "https://data.baltimorecity.gov/api/views/dz54-2aru/rows.csv?accessType=DOWNLOAD"
download.file(fileUrl, destfile = "./data/cameras.csv", method = "curl")
cameraData <- read.csv("./data/cameras.csv")
names(cameraData)
tolower(names(cameraData))
splitNames = strsplit(names(cameraData), "\\.")
splitNames
mylist <- list(letters=c("A", "B", "c"), numbers=1:3, matrix(1:25, ncol=5))
head(mylist)
mylist[1]
mylist$letters
splitNames[[6]][1]
firstElement <- function(x){x[1]}
sapply(splitNames, firstElement)
testName <- "this_is_a_test"
gsub("_", "", testName)
grep("Alameda", cameraData$intersection)
table(grepl("Alameda", cameraData$intersection))
cameraData2 <- cameraData[!grepl("Almeda", cameraData$intersection)]
cameraData2 <- cameraData[!grepl("Almeda", cameraData$intersection),]
cameraData2
grep("Alameda", cameraData$intersection, value = TRUE)
library(stringr)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file(url, destfile = "./data/communities.csv", method = "curl")
communitiesData <- read.csv("./data/communities.csv.csv")
communitiesData <- read.csv("./data/communities.csv")
strsplit(names(communitiesData), "wgtp")
url_gpd <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
download.file(url_gpd, destfile = "./data/gdp.csv", method = "curl")
gdpData <- read.csv("./data/gdp.csv")
names(gdpData)
head(gdpData)
gdpData <- read.csv("./data/gdp.csv", skip = 4)
head(gdpData)
library(dplyr)
rename(gdpData, c("X"="country", "X.1"="ranking", "X.2"="x2", "X3"="country_full", "X.4"="gdp"))
gdpData <- gdpData[, list(X, X.1, X.3, X.4)]
library(data.table)
gdp <- data.table(gdpData)
gdpData <- gdpData[X!=""]
gdpData
gdpData <- gdpData[, list(X, X.1, X.3, X.4)]
gdp_url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
download.file(gdp_url, destfile = "./data/gdp.csv", method = "curl")
gdp <- data.table(read.csv("./data/gdp.csv"), skip=4)
gdp <- gdp[X!=""]
gdp <- gdp[, list(X, X.1, X.3, X.4)]
setnames(dtGDP, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "longName", "gdp"))
setnames(gdp, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "longName", "gdp"))
gsub(",", "", gdp$gdp)
head(gdp)
gsub(",", "", gdp$longName)
head(gdp)
gdp_url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
download.file(gdp_url, destfile = "./data/gdp.csv", method = "curl")
gdp <- data.table(read.csv("./data/gdp.csv"), skip=4)
head(gdp)
gdp <- data.table(read.csv("./data/gdp.csv", skip=4)
)
head(gdp)
sapply(gdp, gsub, ",", "")
head(gdp)
gsub(",", "", gdp$X.4)
head(gdp)
as.numeric(gsub(",", "", gdp$X.4))
head(gdp)
mean(as.numeric(gsub(",", "", gdp$X.4)))
mean(as.numeric(gsub(",", "", gdp$X.4)), na.rm = T)
allGdp <- as.numeric(gsub(",", "", gdp$X.4))
mean(allGdp, na.rm = TRUE)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
f <- file.path(getwd(), "GDP.csv")
download.file(url, f)
dtGDP <- data.table(read.csv(f, skip = 4, nrows = 215, stringsAsFactors = FALSE))
dtGDP <- dtGDP[X != ""]
dtGDP <- dtGDP[, list(X, X.1, X.3, X.4)]
setnames(dtGDP, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",
"Long.Name", "gdp"))
gdp <- as.numeric(gsub(",", "", dtGDP$gdp))
mean(gdp, na.rm = TRUE)
grep("^United", dtGDP$Long.Name)
x <- grep("^United", dtGDP$Long.Name)
summary(x)
x <- grepl("^United", dtGDP$Long.Name)
grepl("^United", dtGDP$Long.Name)
summary(x)
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
addmargins(table(year(sampleTimes), weekdays(sampleTimes)))
getwd()
setwd("/Users/thomaslin/Developer/Workspace/Data_science/Getting and cleaning data/UCI HAR Dataset/")
files <- list.files()
files
list.files("test/")
fileName <- "dataset.zip"
folderName <- "UCI HAR Dataset"
if (!file.exists(fileName)) {
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
download.file(fileUrl, fileName, method = "curl")
}
if (!file.exists(folderName)) {
unzip(fileName)
}
activityLabels <- read.table(folderName+"activity_labels.txt")
activityLabels <- read.table("UCI HAR Dataset/activity_labels.txt")
filename <- "getdata_dataset.zip"
## Download and unzip the dataset:
if (!file.exists(filename)){
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip "
download.file(fileURL, filename, method="curl")
}
if (!file.exists("UCI HAR Dataset")) {
unzip(filename)
}
# Load activity labels + features
activityLabels <- read.table("UCI HAR Dataset/activity_labels.txt")
activityLabels
activityLabels[,2] <- as.character(activityLabels[,2])
activityLabels
activityLabels[,2]
getwd()
setwd("/Users/thomaslin/Developer/Workspace/Data_science/Getting and cleaning data/")
setwd("/Users/thomaslin/Developer/Workspace/Data_science/Getting and cleaning data/project/")
source('~/Developer/Workspace/Data_science/run_analysis.R')
filename <- "getdata_dataset.zip"
## Download and unzip the dataset:
if (!file.exists(filename)){
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip "
download.file(fileURL, filename, method="curl")
}
if (!file.exists("UCI HAR Dataset")) {
unzip(filename)
}
# Load activity labels + features
activityLabels <- read.table("UCI HAR Dataset/activity_labels.txt")
activityLabels[,2] <- as.character(activityLabels[,2])
features.txt")
features[,2] <- as.character(features[,2
)
)
])
features <- read.table("UCI HAR Dataset/features.txt")
features[,2] <- as.character(features[,2])
features <- read.table("UCI HAR Dataset/features.txt")
features[,2] <- as.character(features[,2])
features
featuresRequired <- grep(".*mean.*|.*std.*", features[,2])
features[featuresRequired,2]
featuresRequired.names <- features[featuresRequired,2]
gsub("-mean", "Mean", featuresRequired.names)
featuresRequired.names <- gsub("-mean", "Mean", featuresRequired.names)
featuresRequired.names
featuresWanted.names = gsub('-std', 'Std', featuresWanted.names)
featuresRequired.names = gsub("-std", "Std", featuresRequired.names)
gsub('[-()]', '', featuresWanted.names)
gsub('[-()]', '', featuresRequired.names)
featuresRequired.names <- gsub("[-()]", "", featuresRequired.names)
read.table("UCI HAR Dataset/train/X_train.txt")
read.table("UCI HAR Dataset/train/X_train.txt")[featuresRequired]
t")[featuresRequired]
trainActivities <- read.table("UCI HAR Dataset/train/y_train.txt")
trainSubjects <- read.table("UCI HAR Dataset/train/subject_train.txt")
train <- cbind(trainSubjects, trainActivities, train)
featuresRequired <- grep(".*mean.*|.*std.*", features[,2])
featuresRequired.names <- features[featuresRequired,2]
featuresRequired.names <- gsub("-mean", "Mean", featuresRequired.names)
featuresRequired.names <- gsub("-std", "Std", featuresRequired.names)
featuresRequired.names <- gsub("[-()]", "", featuresRequired.names)
train <- read.table("UCI HAR Dataset/train/X_train.txt")[featuresRequired]
trainActivities <- read.table("UCI HAR Dataset/train/y_train.txt")
trainSubjects <- read.table("UCI HAR Dataset/train/subject_train.txt")
train <- cbind(trainSubjects, trainActivities, train)
train <- read.table("UCI HAR Dataset/train/X_train.txt")[featuresRequired]
trainActivities <- read.table("UCI HAR Dataset/train/y_train.txt")
trainSubjects <- read.table("UCI HAR Dataset/train/subject_train.txt")
train <- cbind(trainSubjects, trainActivities, train)
test <- read.table("UCI HAR Dataset/test/X_test.txt")[featuresRequired]
testActivities <- read.table("UCI HAR Dataset/test/y_test.txt")
testSubject <- read.table("UCI HAR Dataset/test/subject_test.txt")
test <- cbind(testSubject, testActivities, test)
allData <- rbind(train, test)
colnames(allData) <- c("subject", "activity", featuresRequired.names)
allData
allData$activity <- factor(allData$activity, levels = activityLabels[,1], labels = activityLabels[,2])
allData$subject <- as.factor(allData$subject)
allData.melted <- melt(allData, id = c("subject", "activity"))
allData.mean <- dcast(allData.melted, subject + activity ~ variable, mean)
install.packages("reshape2")
library(reshape2)
allData$activity <- factor(allData$activity, levels = activityLabels[,1], labels = activityLabels[,2])
allData$subject <- as.factor(allData$subject)
allData.melted <- melt(allData, id = c("subject", "activity"))
allData.mean <- dcast(allData.melted, subject + activity ~ variable, mean)
head(train)
head(read.table("UCI HAR Dataset/train/X_train.txt"))
