cls_list <- lapply(flags, class)
cls_list
class(cls_list)
as.character(cls_list)
?sapply
cls_vect <- sapply(flags, class)
class(cls_vect)
sum(flags$orange)
flag_colors <- flags[, 11:17]
head(flag_colors)
lapply(flag_colors, sum)
sapply(flag_colors, sum)
sapply(flag_colors, mean)
flag_shapes <- flags[, 19:23]
lapply(flag_shapes, range)
shape_mat <- sapply(flag_shapes, range)
shape_mat
class(shape_mat)
unique(c(3, 4, 5, 5, 5, 6, 6))
unique_valus <- lapply(flags, unique)
unique_vals <- lapply(flags, unique)
unique_vals
lapply(unique_vals, length)
sapply(unique_vals, length)
sapply(flags, unique)
lapply(unique_vals, function(elem) elem[2])
sapply(flags, unique)
vapply(flags, unique, numeric(1))
ok()
sapply(flags, class)
vapply(flags, class, character(1))
?tapply
table(flags$landmass)
table(flags$animate)
tapply(flags$animate, flags$landmass, mean)
tapply(flags$population, flags$red, summary)
tapply(flags$population, flags, summary)
tapply(flags$landmass, flags$red, summary)
tapply(flags$population, flags$landmass, summary)
library(datasets)
data(iris)
?iris
lapply(iris, mean)
apply(iris, mean)
x <- rowMeans(iris[, 1:3])
x <- rowMeans(iris[, 1:4])
class(x)
x
apply(iris[, 1:4], 2, mean)
x <- apply(iris[, 1:4], 2, mean)
class(x)
library(datasets)
data(mtcars)
tapply(mtcars$mpg, mtcars$cyl, mean)
tapply(mtcars$cyl, mtcars$mpg, mean)
sapply(split(mtcars$mpg, mtcars$cyl), mean)
apply(mtcars, 2, mean)
sapply(mtcars, cyl, mean)
split(mtcars, mtcars$cyl)
lapply(mtcars, mean)
with(mtcars, tapply(mpg, cyl, mean))
debug(ls)
ls
ls
library(datasets)
data(mtcars)
path <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
getwd()
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
library(xlsx)
install.packages("rJava", type = "source")
install.packages("rJava", type = "source")
library(xlsx)
library(xlsx)
install.packages("rJava", type = "source")
install.packages("rJava", type = "source")
library(data.table)
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileUrl, destfile="./microdata3.csv")
# fread() is a function with the data.table packge
DT <- fread("./microdata3.csv")
file.info("./microdata3.csv")$size
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(mean(DT[DT$SEX==1,]$pwgtp15))+system.time(mean(DT[DT$SEX==2,]$pwgtp15))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(rowMeans(DT)[DT$SEX==1])+system.time(rowMeans(DT)[DT$SEX==2]
)
library(data.table)
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileUrl, destfile="./microdata3.csv")
# fread() is a function with the data.table packge
DT <- fread("./microdata3.csv")
file.info("./microdata3.csv")$size
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(mean(DT[DT$SEX==1,]$pwgtp15))+system.time(mean(DT[DT$SEX==2,]$pwgtp15))
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(rowMeans(DT)[DT$SEX==1])+system.time(rowMeans(DT)[DT$SEX==2]
)
sum(flags$orange)
install.packages("RMySQL")
install.packages("httr")
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '8305f5adb5264cb5ebfd8ccdb9522d9218201b07'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
content(req)
library(httr)
oauth_endpoints('github')
my_app <- oauth_app(
'github',
key = 'c4b5c9775c973b062936',
secret = '9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc'
)
github_token <- oauth2.0_token(oauth_endpoints('github'), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/users/jtleek/repos"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at at
#    https://github.com/settings/applications. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/rate_limit", gtoken)
stop_for_status(req)
content(req)
install.packages("httr")
install.packages("httr")
install.packages("httr")
install.packages("httr")
library(httr)
oauth_endpoints("github")
my_app = oauth_app(
"github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
github_token <- oauth2.0_token(oauth_endpoints("github"), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
install.packages("httpuv")
library(httr)
oauth_endpoints("github")
my_app = oauth_app(
"github",
key = "c4b5c9775c973b062936",
secret = "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
github_token <- oauth2.0_token(oauth_endpoints("github"), my_app)
g_token <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", g_token)
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936", "9c6a51321d7fb4bc6b2c3ffb7757a2dfa138eebc")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/rate_limit", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
stop_for_status(req)
content(req)
library(httr)
library(jsonlite)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. Register an application at https://github.com/settings/applications
#    Insert your values below - if secret is omitted, it will look it up in
#    the GITHUB_CONSUMER_SECRET environmental variable.
#
#    Use http://localhost:1410 as the callback url
myapp <- oauth_app("github", "c4b5c9775c973b062936",
secret = "d42509a2f04f361fdd45d9a1c332310181b68c0c")
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
req <- GET("https://api.github.com/users/jtleek/repos", config(token = github_token))
stop_for_status(req)
json = content(req)
data = jsonlite::fromJSON(toJSON(json))
print(data)
names(data)
data[data$name == "datasharing"]
data[data$name == "datasharing"]$created_at
data$created_at
data[data[, "name"] == "datasharing", ]
data[data[, "name"] == "datasharing", ]$created_at
install.packages("sqldf")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", method = "curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", destfile = "data.csv" method = "curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", destfile = "data.csv", method = "curl")
df <- read.csv("data.csv")
library(sqldf)
query <- sqldf("select pwgtp1 from acs where AGEP < 50")
query <- sqldf(df, "select pwgtp1 from acs where AGEP < 50")
acs <- read.csv("data.csv")
query <- sqldf("select pwgtp1 from acs where AGEP < 50")
query
sqldf("SELECT DISTINCT AGEP FROM acs")
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
htmlCode[10]
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"
download.file(fileUrl, destfile = "ac_survey.csv", method = "curl")
?read.fwf
d <- read.fwf("ac_survey.csv", widths = c(15, 4,1,3,5,4), header = FALSE, sep = "\t", skip = 4)
head(d)
sum(d$V6)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file("Getting and cleaning data/week_3_1.csv", url = url, method = "curl")
d <- read.csv("Getting and cleaning data/week_3_1.csv")
names(d)
dim(d)
str(d)
d$ACR
d$ACR==6
agricultureLogical <- d[d$ACR == 6]
agricultureLogical <- d[d$ACR == 6,]
agricultureLogical
agricultureLogical <- d[,d$ACR == 6]
agricultureLogical <- d[d$ACR == 6,]
which(agricultureLogical)
d[,d$ACR==6]
d[d$ACR==6,]
d$ACR==6
agricultureLogical <- d$ACR==6
agricultureLogical
which(agricultureLogical)
d[(d$ACR==3 & d$AGS==6),]
agricultureLogical <- d[(d$ACR==3 & d$AGS==6),]
which(agricultureLogical)
agricultureLogical <- d[which(d$ACR==3 & d$AGS==6),]
agricultureLogical
which(agricultureLogical)
head(agricultureLogical, n = 3)
(d$ACR==3 & d$AGS==6)
agricultureLogical <- (d$ACR==3 & d$AGS==6)
which(agricultureLogical)
library(jpeg)
install.packages("jpeg")
install.packages("dplyr")
download.file("week3.jpg", url="https://d396qusza40orc.cloudfront.net/getdata%2Fjeff.jpg", method = "curl")
library(jpeg)
?jpeg
pic <- jpeg("week3.jpg")
quantile(pic)[30]
quantile(pic)
pic <- jpeg("week3.jpg")
summary(pic)
quantile(pic, native=TRUE)
img <- readJPEG("week3.jpg", native = TRUE)
quantile(img, probs = c(0.3, 0.8))
setwd("Getting and cleaning data/")
download.file("grossDomesticProduct.csv", url="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv", method = "curl")
download.file("educational.csv", url="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv", method = "curl")
gdp <- read.csv("grossDomesticProduct.csv")
edu <- read.csv("educational.csv")
names(gdp)
names(edu)
str(edu)
head(edu)
library(data.table)
gdp <- data.table(gdp)
edu <- data.table(edu)
head(edu)
head(gdp)
gdp <- gdp[is.na=FALSE]
gdp <- data.table(read.csv("grossDomesticProduct.csv", skip = 4, nrows = 215))
gdp <- gdp[X != ""]
nemes(gdp)
names(gdp)
gdp <- gdp[, list(X, X.1, X.2, X.3, X.4)]
setnames(gdp, c("X", "X.1", "X.2", "X.3", "X.4"), c("CountryCode", "rankingGDP", "Long.Name", "gdp"))
gdp <- gdp[, list(X, X.1, X.3, X.4)]
setnames(gdp, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "Long.Name", "gdp"))
head(gdp)
edu <- data.table(read.csv("educational.csv"))
df <- merge(gdp, edu, all = TRUE, by=c("CountryCode"))
sum(!is.na(unique(df$rankingGDP)))
df
df[order(rankingGDP, decreasing = TRUE), list(CountryCode, Long.Name.x, Long.Name.y, rankingGDP, gdp)][13]
df[, mean(rankingGDP, na.rm = TRUE), by=Income.Group]
breaks <- quantile(df$rankingGDP, probs = seq(0,1,0.2), na.rm = TRUE)
df$quantileGDP <- cut(df$rankingGDP, breaks = breaks)
df[Income.Group == "Lower middle income", .N, by=c("Income.Group", "quantileGDP")]
